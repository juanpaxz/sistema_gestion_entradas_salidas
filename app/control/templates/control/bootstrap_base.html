{% load static %}
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Aplicaci√≥n{% endblock %}</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <style>
      /* Paleta de colores del proyecto */
      :root{
        --brand-primary: #2D8BD2;
        --brand-danger: #AD2525;
        --brand-accent: #FFE95C;
        --bs-primary: var(--brand-primary);
        --bs-danger: var(--brand-danger);
        --bs-warning: var(--brand-accent);
      }
      .btn-primary{ background-color: var(--bs-primary); border-color: var(--bs-primary); }
      /* Dark mode basics for lightweight pages (login) */
      body.dark{
        background-color: #0f1720;
        color: #e6eef6;
      }
      body.dark .card{
        background-color: #0b1220;
        border: 1px solid rgba(255,255,255,0.06);
        box-shadow: none;
      }
      body.dark .text-muted{ color: rgba(230,238,246,0.6) !important; }
      body.dark .btn-primary{ color: #052235; }
    </style>
    {% block extra_head %}{% endblock %}
  </head>
  <body>
    <main class="container mt-4">
      {% block content %}{% endblock %}
    </main>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    {% block extra_js %}{% endblock %}
    <script>
      // Theme toggle support for lightweight pages
      (function(){
        const storageKey = 'theme';
        const body = document.body;
        function applyTheme(theme){
          if(theme === 'dark') body.classList.add('dark'); else body.classList.remove('dark');
        }
        try{ const saved = localStorage.getItem(storageKey) || 'light'; applyTheme(saved); }catch(e){}
        document.addEventListener('DOMContentLoaded', function(){
          const toggle = document.getElementById('theme-toggle'); if(!toggle) return;
          toggle.addEventListener('click', function(){
            const next = document.body.classList.contains('dark') ? 'light' : 'dark';
            try{ localStorage.setItem(storageKey, next); }catch(e){}
            applyTheme(next);
            toggle.innerHTML = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';
          });
        });
      })();
    </script>
  </body>
</html>
